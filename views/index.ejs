<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/output.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<body>
  <header class="container max-w-4xl m-auto">
  <h1 class="text-cyan-500 text-center">
    TRAKAJOB
  </h1>
  <form id="job-form">
    <input id="company" type="text" placeholder="company" name="company" required />
    <input id="job-post" type="text" placeholder="job posting" name="job post" />
    <input id="date" type="date" placeholder="date applied" name="date applied" required />
    <input id="role" type="text" placeholder="role" name="role" required />
    <select id="status" class="status-select bg-blue-500 text-white px-2 py-1 rounded">
      <option value="">Select Status</option>
      <option value="Applied">Applied</option>
      <option value="Rejected">Not Hired</option>
      <option value="Interview">Interview Set</option>
      <option value="Interviewed">Interviewed</option>
      <!-- Add more statuses as needed -->
    </select>
    <button type="submit" class=" bg-blue-500 text-white px-1 py-1 rounded">Submit</button>
  </form>
  </header>

<section class="job-posts max-w-7xl m-auto">
<ul class="jobs jobs flex flex-col items-center ">
  <!-- Loop through jobs -->
  <% for(let i = 0; i < jobsCollection.length; i++) {%>
  <li class="job  bg-white p-4 mb-4 rounded shadow-lg w-full md:w-3/4 lg:w-1/2 flex items-center justify-between border-b" data-job-id="<%= jobsCollection[i]._id %>">
    <!-- Output name from the iterated job object -->
    <span><%= jobsCollection[i].name %></span>
    <a href="<%= jobsCollection[i]['job post'] %>" target="_blank" class="text-blue-500 hover:underline">Job Post</a>
    <!-- Output quote from the iterated job object -->
    <span><%= jobsCollection[i].date %></span>
    <span><%= jobsCollection[i].role %></span>
    

    <select class="status-select bg-blue-500 text-white px-3 py-1 rounded">
      <option value="">Select Status</option>
      <option value="Applied" <%= jobsCollection[i].status === 'Applied' ? 'selected' : '' %>>Applied</option>
      <option value="Rejected" <%= jobsCollection[i].status === 'Rejected' ? 'selected' : '' %>>Not Hired</option>
      <option value="Interview" <%= jobsCollection[i].status === 'Interview' ? 'selected' : '' %>>Interview Set</option>
      <option value="Interviewed" <%= jobsCollection[i].status === 'Interviewed' ? 'selected' : '' %>>Interviewed</option>
      <!-- Add more statuses as needed -->
    </select>
    

    <button class="delete-btn text-blue-500 px-3 py-1 rounded">
      <i class="fa-solid fa-trash"></i>
    </button>
  </li>
  <% } %>
</ul>
</section>
  <script src="/main.js"></script>
</body>
</html